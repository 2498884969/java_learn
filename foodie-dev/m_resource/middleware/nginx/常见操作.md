## 1. 日志切割

```shell
#!/bin/bash
LOG_PATH="/var/log/nginx/"
RECORD_TIME=$(date -d "yesterday" +%Y-%m-%d+%H:%M)
# 注意查看PID路径
PID=/var/run/nginx/nginx.pid
mv ${LOG_PATH}/access.log ${LOG_PATH}/access.${RECORD_TIME}.log
mv ${LOG_PATH}/error.log ${LOG_PATH}/error.${RECORD_TIME}.log

#向Nginx主进程发送信号，用于重新打开日志文件
kill -USR1 `cat $PID`
```

## 2. 实现定时切割日志





## 3. Root 和 alias

假如服务器路径为：/home/imooc/files/img/face.png

- root 路径完全匹配访问
  配置的时候为：

```nginx
location /imooc {
    root /home
}
```

用户访问的时候请求为：`url:port/imooc/files/img/face.png`

alias 可以为你的路径做一个别名，对用户透明
配置的时候为:

```nginx
location /hello {
    alias /home/imooc
}
```

用户访问的时候请求为：`url:port/hello/files/img/face.png`，如此相当于为目录`imooc`做一个自定义的别名。

## 4. location的匹配规则

- `空格`：默认匹配

```nginx
location / {
     root /home;
}
```

- `=`:精准匹配

```nginx
location = /imooc/img/face1.png {
    root /home;
}
```

- `~*`: 匹配正则表达式不区分大小写

```nginx
location ~* .(GIF|jpg|png|jpeg) {
    root /home;
}
```

- `~`:区分大小写

```nginx
# GIF必须大写才可以匹配到
location ~ .(GIF|jpg|png|jpeg) {
    root /home;
}
```

- `^~`：以某个字符路径开头

```nginx
location ^~ /imooc/img {
    root /home;
}
```

